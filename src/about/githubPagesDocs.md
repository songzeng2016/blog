## GitHub Pages 部署 VuePress 

关于怎么使用 VuePress 搭建博客，在这里就不介绍了，网上很多教程。

关于使用 GitHub Pages 部署很多教程里面也都有提到，包括官方文档里面也有。
[https://vuepress.vuejs.org/zh/guide/deploy.html#github-pages](https://vuepress.vuejs.org/zh/guide/deploy.html#github-pages)

但是使用这种方法部署两个问题，第一：很明显这样只把打包好的文件放到了 github 仓库里面，我们的源文件 md 文件都没有存储起来，这样当我们需要在多个电脑上操作的时候就很不方便同步文件了，
如果你说我只用一台电脑写博客，那 OK 这一点还能忍受。
下面是第二点：就是每次我们写了新博客，或者修改了之前博客的内容，那肯定就得重新 build 发上去吧，这个时候就有问题了，每次 build 都会吧 dist 目录删掉重建，同时我们仓库的信息也被删掉了，想要吧代码 push 上去又得经过很繁琐的步骤。第一条还能忍，这一条忍无可忍了吧。

针对这两点问题下面就是我的解决方案。也很简单，还是使用 GitHub Pages 还是熟悉的配方，只是制作更精美，味道更好了。

下面进入主题：

1、首先使用 GitHub Pages 是有两个选项的，这个在之前的操作中我们应该都看到过，但是另一个是 disabled 的，那么我们怎么能让他 enable 呢，
答案很简答，就是我们仓库里面有个 docs 文件夹就行了。那这个操作就很简单了，我们不用跑到 dist 目录下提交了，直接把真个项目提交就行了。我们项目里面正好有 docs 目录。执行完这一步你会发现另一个选项变成可选的了。但是选了之后并没有到最终的效果，下一步继续。

2、第一步我们把要配置的选项变为可选的了，但是选了之后访问页面发现又问题，为什么呢？答案是我们这个目录下需要有 index.html 文件，大家都知道网站首页默认都是加载 index.html 文件的，这时你会想把打好的包移到 docs 目录下不就行了吗，确实可以。但是把 dist 目录下的文件复制过来后会发现打包的有好几个文件夹和我们博客的文件放在一起很乱，看着不舒服用着也不方便，怎么解决这个问题呢，下一步。

3、到这一步我们会发现为了解决我们提出的两个问题，就必须使用 GitHub Pages docs 的方式，这个方式就要求我们必须要有一个 docs 目录，并且打包好的文件必须放到 docs 根目录下，
同时我们又发现 VuePress 默认也是文件都放到 docs 目录下，既然 GitHub Pages docs 这个我们是动不了的了，那么 VuePress 的文件我们能不能挪个地方呢，巧了，可以。那么第二步的问题就可以解决了，我们新建个 src 目录和 docs 同级，用来存放 VurPress 的文件，然后把 docs 目录下的文件都复制到 src 目录下，这个时候源码与打包文件夹都有了，并且源码也都准备就续了，只差把源码打包到 docs 目录下了，
让我们来到 package.json 修改 "build" 命令为 "vuepress build src" 然后在 config.js 最后添加 dest: 'docs' 这个配置，最后一步 npm run build，大功告成。

